<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTMLåœ¨çº¿æµ‹è¯•å·¥å…· - å®æ—¶é¢„è§ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            padding: 15px;
            gap: 15px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            color: #667eea;
            font-size: 28px;
            margin-bottom: 15px;
            text-align: center;
        }

        .mode-selector {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 15px;
        }

        .mode-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 10px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .run-btn {
            background: #10b981;
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .run-btn:hover {
            background: #059669;
            transform: translateY(-2px);
        }

        .clear-btn {
            background: #ef4444;
            color: white;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }

        .clear-btn:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        .fullscreen-btn {
            background: #3b82f6;
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .fullscreen-btn:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }

        .download-btn {
            background: #8b5cf6;
            color: white;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        .download-btn:hover {
            background: #7c3aed;
            transform: translateY(-2px);
        }

        .main-content {
            flex: 1;
            display: flex;
            gap: 15px;
            min-height: 0;
        }

        .editor-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .split-mode {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .editor-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }

        .editor-label {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 15px;
            font-weight: 600;
            font-size: 14px;
        }

        .html-label {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        }

        .css-label {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        }

        .js-label {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        textarea {
            flex: 1;
            border: none;
            padding: 15px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            resize: none;
            outline: none;
            line-height: 1.6;
            background: #f8fafc;
            color: #1e293b;
        }

        textarea:focus {
            background: #fff;
        }

        .preview-panel {
            flex: 1;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .preview-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 15px;
            font-weight: 600;
            font-size: 14px;
        }

        iframe {
            flex: 1;
            border: none;
            background: white;
        }

        .hidden {
            display: none !important;
        }

        /* å…¨å±æ¨¡å¼ */
        .fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9999;
            border-radius: 0 !important;
            margin: 0;
        }

        .fullscreen-exit {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            padding: 10px 20px;
            background: rgba(239, 68, 68, 0.9);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .fullscreen-exit:hover {
            background: rgba(220, 38, 38, 0.9);
        }

        /* ä¸‹è½½æç¤º */
        .download-toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(16, 185, 129, 0.95);
            color: white;
            padding: 20px 40px;
            border-radius: 10px;
            font-weight: 600;
            z-index: 10001;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            animation: fadeInOut 2s ease-in-out;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            20% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .mode-selector, .controls {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¨ HTMLåœ¨çº¿æµ‹è¯•å·¥å…·</h1>
            
            <div class="mode-selector">
                <button class="mode-btn active" onclick="switchMode('split')">åˆ†å¼€è¾“å…¥æ¨¡å¼</button>
                <button class="mode-btn" onclick="switchMode('full')">å®Œæ•´HTMLæ¨¡å¼</button>
            </div>

            <div class="controls">
                <button class="control-btn run-btn" onclick="runCode()">â–¶ è¿è¡Œä»£ç </button>
                <button class="control-btn download-btn" onclick="downloadHTML()">â¬‡ ä¸‹è½½HTML</button>
                <button class="control-btn clear-btn" onclick="clearAll()">ğŸ—‘ æ¸…ç©ºä»£ç </button>
                <button class="control-btn fullscreen-btn" onclick="toggleFullscreen()">â›¶ å…¨å±é¢„è§ˆ</button>
            </div>
        </div>

        <div class="main-content">
            <!-- åˆ†å¼€è¾“å…¥æ¨¡å¼ -->
            <div class="editor-panel split-mode" id="splitMode">
                <div class="editor-section">
                    <div class="editor-label html-label">HTML</div>
                    <textarea id="htmlCode" placeholder="åœ¨æ­¤è¾“å…¥HTMLä»£ç ...">
<h1>æ¬¢è¿ä½¿ç”¨HTMLåœ¨çº¿æµ‹è¯•å·¥å…·ï¼</h1>
<p>è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åœ¨çº¿ä»£ç ç¼–è¾‘å™¨</p>
<div class="demo-box">
    <h2>åŠŸèƒ½ç‰¹ç‚¹</h2>
    <ul>
        <li>å®æ—¶é¢„è§ˆ</li>
        <li>åˆ†ç¦»å¼ç¼–è¾‘</li>
        <li>å…¨å±æ¨¡å¼</li>
        <li>ç¾è§‚ç•Œé¢</li>
        <li>ä¸€é”®ä¸‹è½½</li>
    </ul>
</div></textarea>
                </div>

                <div class="editor-section">
                    <div class="editor-label css-label">CSS</div>
                    <textarea id="cssCode" placeholder="åœ¨æ­¤è¾“å…¥CSSä»£ç ...">
body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background: linear-gradient(135deg, #e0f7fa 0%, #fff9c4 100%);
}

h1 {
    color: #667eea;
    text-align: center;
}

.demo-box {
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    margin-top: 20px;
}

ul {
    list-style-type: none;
    padding: 0;
}

li {
    padding: 8px;
    margin: 5px 0;
    background: #f0f4ff;
    border-left: 4px solid #667eea;
    border-radius: 4px;
    transition: all 0.3s ease;
}

li:hover {
    transform: translateX(5px);
    background: #e0e7ff;
}</textarea>
                </div>

                <div class="editor-section">
                    <div class="editor-label js-label">JavaScript</div>
                    <textarea id="jsCode" placeholder="åœ¨æ­¤è¾“å…¥JavaScriptä»£ç ...">
// åœ¨æ­¤ç¼–å†™JavaScriptä»£ç 
console.log('HTMLåœ¨çº¿æµ‹è¯•å·¥å…·å·²åŠ è½½ï¼');

// ç¤ºä¾‹ï¼šç‚¹å‡»äº¤äº’
document.addEventListener('DOMContentLoaded', function() {
    const items = document.querySelectorAll('li');
    items.forEach(item => {
        item.addEventListener('click', function() {
            this.style.transform = 'scale(1.05)';
            setTimeout(() => {
                this.style.transform = 'scale(1)';
            }, 200);
        });
    });
});</textarea>
                </div>
            </div>

            <!-- å®Œæ•´HTMLæ¨¡å¼ -->
            <div class="editor-panel hidden" id="fullMode">
                <div class="editor-section" style="flex: 1;">
                    <div class="editor-label">å®Œæ•´HTMLä»£ç </div>
                    <textarea id="fullHtmlCode" placeholder="åœ¨æ­¤è¾“å…¥å®Œæ•´çš„HTMLä»£ç ï¼ˆåŒ…å«<html>ã€<head>ã€<body>ç­‰æ ‡ç­¾ï¼‰...">
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®Œæ•´HTMLç¤ºä¾‹</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>å®Œæ•´HTMLæ¨¡å¼</h1>
        <p>åœ¨è¿™ä¸ªæ¨¡å¼ä¸‹,æ‚¨å¯ä»¥ç¼–å†™å®Œæ•´çš„HTMLæ–‡æ¡£,åŒ…å«æ‰€æœ‰æ ‡ç­¾ã€‚</p>
    </div>
    
    <script>
        console.log('å®Œæ•´HTMLæ¨¡å¼å·²åŠ è½½');
    </script>
</body>
</html></textarea>
                </div>
            </div>

            <!-- é¢„è§ˆé¢æ¿ -->
            <div class="preview-panel" id="previewPanel">
                <div class="preview-header">ğŸ“± å®æ—¶é¢„è§ˆ</div>
                <iframe id="preview"></iframe>
            </div>
        </div>
    </div>

    <script>
        let currentMode = 'split';
        let isFullscreen = false;

        // åˆå§‹åŒ–æ—¶è¿è¡Œä¸€æ¬¡ä»£ç 
        window.onload = function() {
            runCode();
        };

        // åˆ‡æ¢æ¨¡å¼
        function switchMode(mode) {
            currentMode = mode;
            const splitMode = document.getElementById('splitMode');
            const fullMode = document.getElementById('fullMode');
            const modeBtns = document.querySelectorAll('.mode-btn');

            modeBtns.forEach(btn => btn.classList.remove('active'));

            if (mode === 'split') {
                splitMode.classList.remove('hidden');
                fullMode.classList.add('hidden');
                modeBtns[0].classList.add('active');
            } else {
                splitMode.classList.add('hidden');
                fullMode.classList.remove('hidden');
                modeBtns[1].classList.add('active');
            }
        }

        // è¿è¡Œä»£ç 
        function runCode() {
            const preview = document.getElementById('preview');
            const previewDoc = preview.contentDocument || preview.contentWindow.document;

            let htmlContent;

            if (currentMode === 'split') {
                const html = document.getElementById('htmlCode').value;
                const css = document.getElementById('cssCode').value;
                const js = document.getElementById('jsCode').value;

                htmlContent = `
                    <!DOCTYPE html>
                    <html lang="zh-CN">
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <style>${css}</style>
                    </head>
                    <body>
                        ${html}
                        <script>${js}<\/script>
                    </body>
                    </html>
                `;
            } else {
                htmlContent = document.getElementById('fullHtmlCode').value;
            }

            previewDoc.open();
            previewDoc.write(htmlContent);
            previewDoc.close();
        }

        // ä¸‹è½½HTMLæ–‡ä»¶
        function downloadHTML() {
            let htmlContent;
            let fileName;

            if (currentMode === 'split') {
                // åˆ†å¼€è¾“å…¥æ¨¡å¼ï¼šåˆå¹¶HTMLã€CSSã€JavaScriptä¸ºä¸€ä¸ªå®Œæ•´æ–‡ä»¶
                const html = document.getElementById('htmlCode').value;
                const css = document.getElementById('cssCode').value;
                const js = document.getElementById('jsCode').value;

                htmlContent = `<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„ç½‘é¡µ</title>
    <style>
${css}
    </style>
</head>
<body>
${html}
    <script>
${js}
    </script>
</body>
</html>`;
                fileName = 'my-webpage.html';
            } else {
                // å®Œæ•´HTMLæ¨¡å¼ï¼šç›´æ¥ä¸‹è½½
                htmlContent = document.getElementById('fullHtmlCode').value;
                fileName = 'my-webpage.html';
            }

            // åˆ›å»ºBlobå¯¹è±¡
            const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = fileName;
            
            // è§¦å‘ä¸‹è½½
            document.body.appendChild(link);
            link.click();
            
            // æ¸…ç†
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            // æ˜¾ç¤ºä¸‹è½½æˆåŠŸæç¤º
            showToast('âœ… æ–‡ä»¶ä¸‹è½½æˆåŠŸï¼');
        }

        // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'download-toast';
            toast.textContent = message;
            document.body.appendChild(toast);

            setTimeout(() => {
                document.body.removeChild(toast);
            }, 2000);
        }

        // æ¸…ç©ºä»£ç 
        function clearAll() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ä»£ç å—ï¼Ÿ')) {
                if (currentMode === 'split') {
                    document.getElementById('htmlCode').value = '';
                    document.getElementById('cssCode').value = '';
                    document.getElementById('jsCode').value = '';
                } else {
                    document.getElementById('fullHtmlCode').value = '';
                }
                runCode();
            }
        }

        // å…¨å±é¢„è§ˆ
        function toggleFullscreen() {
            const previewPanel = document.getElementById('previewPanel');
            
            if (!isFullscreen) {
                previewPanel.classList.add('fullscreen');
                
                const exitBtn = document.createElement('button');
                exitBtn.className = 'fullscreen-exit';
                exitBtn.textContent = 'âœ• é€€å‡ºå…¨å±';
                exitBtn.onclick = toggleFullscreen;
                exitBtn.id = 'exitFullscreenBtn';
                document.body.appendChild(exitBtn);
                
                isFullscreen = true;
            } else {
                previewPanel.classList.remove('fullscreen');
                const exitBtn = document.getElementById('exitFullscreenBtn');
                if (exitBtn) {
                    exitBtn.remove();
                }
                isFullscreen = false;
            }
        }

        // ESCé”®é€€å‡ºå…¨å±
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && isFullscreen) {
                toggleFullscreen();
            }
        });

        // è‡ªåŠ¨ä¿å­˜åŠŸèƒ½
        setInterval(function() {
            if (currentMode === 'split') {
                localStorage.setItem('htmlCode', document.getElementById('htmlCode').value);
                localStorage.setItem('cssCode', document.getElementById('cssCode').value);
                localStorage.setItem('jsCode', document.getElementById('jsCode').value);
            } else {
                localStorage.setItem('fullHtmlCode', document.getElementById('fullHtmlCode').value);
            }
        }, 5000);

        // åŠ è½½ä¿å­˜çš„ä»£ç 
        window.addEventListener('load', function() {
            const savedHtml = localStorage.getItem('htmlCode');
            const savedCss = localStorage.getItem('cssCode');
            const savedJs = localStorage.getItem('jsCode');
            const savedFull = localStorage.getItem('fullHtmlCode');

            if (savedHtml) {
                document.getElementById('htmlCode').value = savedHtml;
            }
            if (savedCss) {
                document.getElementById('cssCode').value = savedCss;
            }
            if (savedJs) {
                document.getElementById('jsCode').value = savedJs;
            }
            if (savedFull) {
                document.getElementById('fullHtmlCode').value = savedFull;
            }
        });
    </script>
</body>
</html>
