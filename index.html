<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MinecraftåŸºå²©ç‰ˆ1.21æŒ‡ä»¤åŠ©æ‰‹ä¸“ä¸šç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2ecc71;
            --secondary: #3498db;
            --dark: #1a1a2e;
            --darker: #0f0f1e;
            --accent: #e74c3c;
            --warning: #f39c12;
            --success: #27ae60;
            --text: #ecf0f1;
            --border: #34495e;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .header {
            background: rgba(46, 204, 113, 0.1);
            border-bottom: 2px solid var(--primary);
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header h1 {
            color: var(--primary);
            font-size: 28px;
            text-shadow: 0 0 10px rgba(46, 204, 113, 0.5);
            margin-bottom: 5px;
        }

        .header .version {
            color: var(--secondary);
            font-size: 14px;
        }

        .container {
            display: grid;
            grid-template-columns: 280px 1fr 320px;
            gap: 20px;
            padding: 20px;
            max-width: 1800px;
            margin: 0 auto;
        }

        .sidebar, .panel, .output-panel {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .sidebar {
            height: calc(100vh - 140px);
            overflow-y: auto;
            position: sticky;
            top: 100px;
        }

        .sidebar h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 18px;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 8px;
        }

        .command-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .cmd-btn {
            background: rgba(52, 152, 219, 0.2);
            border: 1px solid var(--secondary);
            color: var(--text);
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            font-size: 14px;
        }

        .cmd-btn:hover {
            background: rgba(52, 152, 219, 0.4);
            transform: translateX(5px);
            box-shadow: 0 0 15px rgba(52, 152, 219, 0.3);
        }

        .cmd-btn.active {
            background: var(--secondary);
            border-color: var(--primary);
        }

        .panel {
            min-height: calc(100vh - 140px);
        }

        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: rgba(46, 204, 113, 0.2);
            border: 1px solid var(--primary);
            color: var(--text);
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .tab-btn:hover {
            background: rgba(46, 204, 113, 0.3);
        }

        .tab-btn.active {
            background: var(--primary);
            color: var(--dark);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--primary);
            font-weight: 600;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }

        .form-group textarea {
            min-height: 80px;
            font-family: 'Consolas', 'Courier New', monospace;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .generate-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            color: white;
            padding: 12px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(46, 204, 113, 0.4);
        }

        .output-panel {
            height: calc(100vh - 140px);
            overflow-y: auto;
            position: sticky;
            top: 100px;
        }

        .output-box {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--primary);
            border-radius: 5px;
            padding: 15px;
            font-family: 'Consolas', 'Courier New', monospace;
            color: var(--primary);
            margin-bottom: 15px;
            position: relative;
            word-wrap: break-word;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--secondary);
            border: none;
            color: white;
            padding: 5px 15px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        }

        .copy-btn:hover {
            background: var(--primary);
        }

        .history-item {
            background: rgba(255, 255, 255, 0.05);
            border-left: 3px solid var(--secondary);
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 3px;
            font-family: 'Consolas', monospace;
            font-size: 12px;
            cursor: pointer;
        }

        .history-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
        }

        .selector-builder {
            background: rgba(52, 152, 219, 0.1);
            border: 1px solid var(--secondary);
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
        }

        .quick-templates {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .template-btn {
            background: rgba(243, 156, 18, 0.2);
            border: 1px solid var(--warning);
            color: var(--text);
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s;
        }

        .template-btn:hover {
            background: rgba(243, 156, 18, 0.4);
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--darker);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 5px;
        }

        .info-box {
            background: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--secondary);
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 3px;
            font-size: 13px;
        }

        .search-box {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
        }

        .particle-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            max-height: 400px;
            overflow-y: auto;
        }

        .particle-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border);
            padding: 8px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        }

        .particle-item:hover {
            background: rgba(46, 204, 113, 0.2);
            border-color: var(--primary);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>â›ï¸ MinecraftåŸºå²©ç‰ˆæŒ‡ä»¤åŠ©æ‰‹ä¸“ä¸šç‰ˆ</h1>
        <div class="version">æ”¯æŒç‰ˆæœ¬: 1.21.x Bedrock Edition | 69+æŒ‡ä»¤å…¨æ”¯æŒ</div>
    </div>

    <div class="container">
        <!-- å·¦ä¾§æŒ‡ä»¤åˆ—è¡¨ -->
        <div class="sidebar">
            <h3>ğŸ“‹ æŒ‡ä»¤åˆ†ç±»</h3>
            <input type="text" class="search-box" id="cmdSearch" placeholder="æœç´¢æŒ‡ä»¤...">
            <div class="command-list" id="commandList"></div>
        </div>

        <!-- ä¸­é—´ä¸»é¢æ¿ -->
        <div class="panel">
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="switchTab('generator')">ğŸ”§ æŒ‡ä»¤ç”Ÿæˆå™¨</button>
                <button class="tab-btn" onclick="switchTab('selector')">ğŸ¯ ç›®æ ‡é€‰æ‹©å™¨</button>
                <button class="tab-btn" onclick="switchTab('calculator')">ğŸ“ åæ ‡è®¡ç®—</button>
                <button class="tab-btn" onclick="switchTab('particle')">âœ¨ ç²’å­æ•ˆæœ</button>
                <button class="tab-btn" onclick="switchTab('nbt')">ğŸ“¦ NBTç¼–è¾‘å™¨</button>
                <button class="tab-btn" onclick="switchTab('templates')">ğŸ“ å¿«æ·æ¨¡æ¿</button>
            </div>

            <!-- æŒ‡ä»¤ç”Ÿæˆå™¨ -->
            <div class="tab-content active" id="generator">
                <h3 style="color: var(--primary); margin-bottom: 20px;">å½“å‰æŒ‡ä»¤: <span id="currentCmd">è¯·ä»å·¦ä¾§é€‰æ‹©æŒ‡ä»¤</span></h3>
                <div id="commandForm"></div>
            </div>

            <!-- ç›®æ ‡é€‰æ‹©å™¨ -->
            <div class="tab-content" id="selector">
                <h3 style="color: var(--primary); margin-bottom: 15px;">ç›®æ ‡é€‰æ‹©å™¨æ„å»ºå™¨</h3>
                <div class="selector-builder">
                    <div class="form-group">
                        <label>é€‰æ‹©å™¨ç±»å‹</label>
                        <select id="selectorType">
                            <option value="@p">@p - æœ€è¿‘çš„ç©å®¶</option>
                            <option value="@a">@a - æ‰€æœ‰ç©å®¶</option>
                            <option value="@e">@e - æ‰€æœ‰å®ä½“</option>
                            <option value="@s">@s - å‘½ä»¤æ‰§è¡Œè€…</option>
                            <option value="@r">@r - éšæœºç©å®¶</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>å®ä½“ç±»å‹ (type)</label>
                            <input type="text" id="selectorEntityType" placeholder="å¦‚: zombie">
                        </div>
                        <div class="form-group">
                            <label>åç§° (name)</label>
                            <input type="text" id="selectorName" placeholder="å®ä½“åç§°">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>åŠå¾„å†… (r)</label>
                            <input type="number" id="selectorR" placeholder="å¦‚: 10">
                        </div>
                        <div class="form-group">
                            <label>åŠå¾„å¤– (rm)</label>
                            <input type="number" id="selectorRm" placeholder="å¦‚: 5">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>æœ€å¤§ç­‰çº§ (l)</label>
                            <input type="number" id="selectorL" placeholder="æœ€å¤§ç­‰çº§">
                        </div>
                        <div class="form-group">
                            <label>æœ€å°ç­‰çº§ (lm)</label>
                            <input type="number" id="selectorLm" placeholder="æœ€å°ç­‰çº§">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>æ¸¸æˆæ¨¡å¼ (m)</label>
                            <select id="selectorMode">
                                <option value="">ä¸é™</option>
                                <option value="s">ç”Ÿå­˜ (s)</option>
                                <option value="c">åˆ›é€  (c)</option>
                                <option value="a">å†’é™© (a)</option>
                                <option value="spectator">æ—è§‚</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>æ•°é‡ (c)</label>
                            <input type="number" id="selectorCount" placeholder="é€‰æ‹©æ•°é‡">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>æ ‡ç­¾ (tag)</label>
                        <input type="text" id="selectorTag" placeholder="å¦‚: boss">
                    </div>
                    <button class="generate-btn" onclick="generateSelector()">ç”Ÿæˆç›®æ ‡é€‰æ‹©å™¨</button>
                </div>
            </div>

            <!-- åæ ‡è®¡ç®—å™¨ -->
            <div class="tab-content" id="calculator">
                <h3 style="color: var(--primary); margin-bottom: 15px;">åæ ‡è®¡ç®—å™¨</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>èµ·å§‹X</label>
                        <input type="number" id="calcX1" value="0">
                    </div>
                    <div class="form-group">
                        <label>ç›®æ ‡X</label>
                        <input type="number" id="calcX2" value="0">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>èµ·å§‹Y</label>
                        <input type="number" id="calcY1" value="0">
                    </div>
                    <div class="form-group">
                        <label>ç›®æ ‡Y</label>
                        <input type="number" id="calcY2" value="0">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>èµ·å§‹Z</label>
                        <input type="number" id="calcZ1" value="0">
                    </div>
                    <div class="form-group">
                        <label>ç›®æ ‡Z</label>
                        <input type="number" id="calcZ2" value="0">
                    </div>
                </div>
                <button class="generate-btn" onclick="calculateDistance()">è®¡ç®—è·ç¦»</button>
                <div class="info-box" id="calcResult" style="margin-top: 15px; display: none;"></div>
                <h4 style="color: var(--secondary); margin: 20px 0 10px;">ç›¸å¯¹åæ ‡è½¬æ¢</h4>
                <div class="form-row">
                    <div class="form-group">
                        <label>åç§»X</label>
                        <input type="number" id="relX" value="0">
                    </div>
                    <div class="form-group">
                        <label>åç§»Y</label>
                        <input type="number" id="relY" value="0">
                    </div>
                </div>
                <div class="form-group">
                    <label>åç§»Z</label>
                    <input type="number" id="relZ" value="0">
                </div>
                <button class="generate-btn" onclick="generateRelativeCoords()">ç”Ÿæˆç›¸å¯¹åæ ‡</button>
            </div>

            <!-- ç²’å­æ•ˆæœ -->
            <div class="tab-content" id="particle">
                <h3 style="color: var(--primary); margin-bottom: 15px;">ç²’å­æ•ˆæœåº“</h3>
                <input type="text" class="search-box" id="particleSearch" placeholder="æœç´¢ç²’å­æ•ˆæœ...">
                <div class="particle-grid" id="particleGrid"></div>
            </div>

            <!-- NBTç¼–è¾‘å™¨ -->
            <div class="tab-content" id="nbt">
                <h3 style="color: var(--primary); margin-bottom: 15px;">NBTæ•°æ®ç¼–è¾‘å™¨</h3>
                <div class="form-group">
                    <label>ç‰©å“ç±»å‹</label>
                    <select id="nbtItem">
                        <option value="diamond_sword">é’»çŸ³å‰‘</option>
                        <option value="bow">å¼“</option>
                        <option value="crossbow">å¼©</option>
                        <option value="trident">ä¸‰å‰æˆŸ</option>
                        <option value="mace">é”¤</option>
                        <option value="elytra">é˜ç¿…</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>é™„é­”</label>
                    <select id="nbtEnchant" multiple size="5">
                        <option value="sharpness">é”‹åˆ©</option>
                        <option value="looting">æŠ¢å¤º</option>
                        <option value="unbreaking">è€ä¹…</option>
                        <option value="mending">ç»éªŒä¿®è¡¥</option>
                        <option value="fire_aspect">ç«ç„°é™„åŠ </option>
                        <option value="knockback">å‡»é€€</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>é™„é­”ç­‰çº§</label>
                    <input type="number" id="nbtEnchantLevel" value="1" min="1" max="32767">
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="nbtUnbreakable">
                    <label>æ— é™è€ä¹…</label>
                </div>
                <button class="generate-btn" onclick="generateNBT()">ç”ŸæˆGiveæŒ‡ä»¤</button>
            </div>

            <!-- å¿«æ·æ¨¡æ¿ -->
            <div class="tab-content" id="templates">
                <h3 style="color: var(--primary); margin-bottom: 15px;">å¸¸ç”¨æŒ‡ä»¤æ¨¡æ¿</h3>
                <div class="quick-templates" id="templateGrid"></div>
            </div>
        </div>

        <!-- å³ä¾§è¾“å‡ºé¢æ¿ -->
        <div class="output-panel">
            <h3 style="color: var(--primary); margin-bottom: 15px;">ğŸ“¤ ç”Ÿæˆçš„æŒ‡ä»¤</h3>
            <div class="output-box" id="outputBox">
                ç­‰å¾…ç”ŸæˆæŒ‡ä»¤...
            </div>
            <button class="copy-btn" onclick="copyCommand()" style="position: relative; width: 100%; margin-bottom: 20px;">å¤åˆ¶æŒ‡ä»¤</button>
            
            <h3 style="color: var(--secondary); margin-bottom: 15px;">ğŸ“œ æŒ‡ä»¤å†å²</h3>
            <div id="historyList"></div>
        </div>
    </div>

    <script>
        // å®Œæ•´çš„åŸºå²©ç‰ˆ1.21æŒ‡ä»¤æ•°æ®åº“
        const commands = {
            ability: {
                name: 'ability',
                desc: 'è®¾ç½®ç©å®¶èƒ½åŠ›',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' },
                    { name: 'èƒ½åŠ›', type: 'select', options: ['mute', 'worldbuilder', 'mayfly', 'flying'] },
                    { name: 'å€¼', type: 'select', options: ['true', 'false'] }
                ]
            },
            alwaysday: {
                name: 'alwaysday',
                desc: 'é”å®š/è§£é”æ˜¼å¤œå¾ªç¯',
                params: [
                    { name: 'é”å®š', type: 'select', options: ['true', 'false'] }
                ]
            },
            clear: {
                name: 'clear',
                desc: 'æ¸…é™¤ç©å®¶ç‰©å“',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' },
                    { name: 'ç‰©å“ID', type: 'text', placeholder: 'diamond' },
                    { name: 'æ•°æ®å€¼', type: 'number', placeholder: '0' },
                    { name: 'æ•°é‡', type: 'number', placeholder: '-1' }
                ]
            },
            clone: {
                name: 'clone',
                desc: 'å¤åˆ¶æ–¹å—åŒºåŸŸ',
                params: [
                    { name: 'èµ·å§‹X', type: 'number', placeholder: '0' },
                    { name: 'èµ·å§‹Y', type: 'number', placeholder: '0' },
                    { name: 'èµ·å§‹Z', type: 'number', placeholder: '0' },
                    { name: 'ç»“æŸX', type: 'number', placeholder: '10' },
                    { name: 'ç»“æŸY', type: 'number', placeholder: '10' },
                    { name: 'ç»“æŸZ', type: 'number', placeholder: '10' },
                    { name: 'ç›®æ ‡X', type: 'number', placeholder: '20' },
                    { name: 'ç›®æ ‡Y', type: 'number', placeholder: '0' },
                    { name: 'ç›®æ ‡Z', type: 'number', placeholder: '0' },
                    { name: 'æ¨¡å¼', type: 'select', options: ['replace', 'masked', 'filtered'] }
                ]
            },
            damage: {
                name: 'damage',
                desc: 'å¯¹å®ä½“é€ æˆä¼¤å®³',
                params: [
                    { name: 'ç›®æ ‡', type: 'text', placeholder: '@e[type=zombie,r=5]' },
                    { name: 'ä¼¤å®³å€¼', type: 'number', placeholder: '10' },
                    { name: 'ä¼¤å®³ç±»å‹', type: 'select', options: ['contact', 'entity_attack', 'projectile', 'suffocation', 'fall', 'fire', 'lava', 'drowning', 'block_explosion', 'entity_explosion', 'void', 'suicide', 'magic', 'wither', 'starve', 'anvil', 'thorns', 'falling_block', 'piston', 'fly_into_wall', 'magma', 'fireworks', 'lightning', 'charging', 'temperature', 'freezing', 'stalactite', 'stalagmite'] }
                ]
            },
            daylock: {
                name: 'daylock',
                desc: 'é”å®šæ—¶é—´',
                params: [
                    { name: 'é”å®š', type: 'select', options: ['true', 'false'] }
                ]
            },
            deop: {
                name: 'deop',
                desc: 'æ’¤é”€OPæƒé™',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: 'PlayerName' }
                ]
            },
            dialogue: {
                name: 'dialogue',
                desc: 'æ‰“å¼€NPCå¯¹è¯',
                params: [
                    { name: 'æ“ä½œ', type: 'select', options: ['open', 'change'] },
                    { name: 'NPC', type: 'text', placeholder: '@e[type=npc]' },
                    { name: 'ç©å®¶', type: 'text', placeholder: '@p' }
                ]
            },
            difficulty: {
                name: 'difficulty',
                desc: 'è®¾ç½®éš¾åº¦',
                params: [
                    { name: 'éš¾åº¦', type: 'select', options: ['peaceful', 'easy', 'normal', 'hard'] }
                ]
            },
            effect: {
                name: 'effect',
                desc: 'ç»™äºˆ/æ¸…é™¤çŠ¶æ€æ•ˆæœ',
                params: [
                    { name: 'ç›®æ ‡', type: 'text', placeholder: '@a' },
                    { name: 'æ•ˆæœID', type: 'select', options: ['speed', 'slowness', 'haste', 'mining_fatigue', 'strength', 'instant_health', 'instant_damage', 'jump_boost', 'nausea', 'regeneration', 'resistance', 'fire_resistance', 'water_breathing', 'invisibility', 'blindness', 'night_vision', 'hunger', 'weakness', 'poison', 'wither', 'health_boost', 'absorption', 'saturation', 'levitation', 'fatal_poison', 'conduit_power', 'slow_falling', 'bad_omen', 'hero_of_the_village', 'darkness', 'clear'] },
                    { name: 'æŒç»­æ—¶é—´(ç§’)', type: 'number', placeholder: '30' },
                    { name: 'ç­‰çº§', type: 'number', placeholder: '1' },
                    { name: 'éšè—ç²’å­', type: 'select', options: ['true', 'false'] }
                ]
            },
            enchant: {
                name: 'enchant',
                desc: 'é™„é­”ç‰©å“',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: '@p' },
                    { name: 'é™„é­”ID', type: 'select', options: ['protection', 'fire_protection', 'feather_falling', 'blast_protection', 'projectile_protection', 'thorns', 'respiration', 'depth_strider', 'aqua_affinity', 'sharpness', 'smite', 'bane_of_arthropods', 'knockback', 'fire_aspect', 'looting', 'efficiency', 'silk_touch', 'unbreaking', 'fortune', 'power', 'punch', 'flame', 'infinity', 'luck_of_the_sea', 'lure', 'frost_walker', 'mending', 'binding_curse', 'vanishing_curse', 'impaling', 'riptide', 'loyalty', 'channeling', 'multishot', 'piercing', 'quick_charge', 'soul_speed', 'swift_sneak'] },
                    { name: 'ç­‰çº§', type: 'number', placeholder: '1' }
                ]
            },
            execute: {
                name: 'execute',
                desc: 'æ‰§è¡ŒæŒ‡ä»¤(é«˜çº§)',
                params: [
                    { name: 'æ‰§è¡Œè€…', type: 'text', placeholder: '@a' },
                    { name: 'ä½ç½®X', type: 'text', placeholder: '~ ~1 ~' },
                    { name: 'ä½ç½®Y', type: 'text', placeholder: '' },
                    { name: 'ä½ç½®Z', type: 'text', placeholder: '' },
                    { name: 'è¦æ‰§è¡Œçš„æŒ‡ä»¤', type: 'text', placeholder: 'say Hello' }
                ]
            },
            fill: {
                name: 'fill',
                desc: 'å¡«å……åŒºåŸŸ',
                params: [
                    { name: 'èµ·å§‹X', type: 'number', placeholder: '0' },
                    { name: 'èµ·å§‹Y', type: 'number', placeholder: '0' },
                    { name: 'èµ·å§‹Z', type: 'number', placeholder: '0' },
                    { name: 'ç»“æŸX', type: 'number', placeholder: '10' },
                    { name: 'ç»“æŸY', type: 'number', placeholder: '10' },
                    { name: 'ç»“æŸZ', type: 'number', placeholder: '10' },
                    { name: 'æ–¹å—ID', type: 'text', placeholder: 'stone' },
                    { name: 'å¡«å……æ¨¡å¼', type: 'select', options: ['destroy', 'hollow', 'keep', 'outline', 'replace'] }
                ]
            },
            fog: {
                name: 'fog',
                desc: 'è®¾ç½®é›¾æ•ˆ',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' },
                    { name: 'æ“ä½œ', type: 'select', options: ['push', 'pop', 'remove'] },
                    { name: 'é›¾ID', type: 'text', placeholder: 'minecraft:fog_savanna' }
                ]
            },
            function: {
                name: 'function',
                desc: 'è¿è¡Œå‡½æ•°',
                params: [
                    { name: 'å‡½æ•°è·¯å¾„', type: 'text', placeholder: 'myfunction' }
                ]
            },
            gamemode: {
                name: 'gamemode',
                desc: 'æ›´æ”¹æ¸¸æˆæ¨¡å¼',
                params: [
                    { name: 'æ¨¡å¼', type: 'select', options: ['survival', 'creative', 'adventure', 'spectator'] },
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' }
                ]
            },
            gamerule: {
                name: 'gamerule',
                desc: 'è®¾ç½®æ¸¸æˆè§„åˆ™',
                params: [
                    { name: 'è§„åˆ™', type: 'select', options: ['commandBlockOutput', 'doDaylightCycle', 'doEntityDrops', 'doFireTick', 'doInsomnia', 'doImmediateRespawn', 'doMobLoot', 'doMobSpawning', 'doTileDrops', 'doWeatherCycle', 'drowningDamage', 'fallDamage', 'fireDamage', 'freezeDamage', 'keepInventory', 'maxCommandChainLength', 'mobGriefing', 'naturalRegeneration', 'pvp', 'randomTickSpeed', 'sendCommandFeedback', 'showCoordinates', 'showDeathMessages', 'spawnRadius', 'tntExplodes'] },
                    { name: 'å€¼', type: 'text', placeholder: 'true' }
                ]
            },
            give: {
                name: 'give',
                desc: 'ç»™äºˆç‰©å“',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: '@p' },
                    { name: 'ç‰©å“ID', type: 'text', placeholder: 'diamond' },
                    { name: 'æ•°é‡', type: 'number', placeholder: '64' },
                    { name: 'æ•°æ®å€¼', type: 'number', placeholder: '0' }
                ]
            },
            kill: {
                name: 'kill',
                desc: 'æ€æ­»å®ä½“',
                params: [
                    { name: 'ç›®æ ‡', type: 'text', placeholder: '@e[type=zombie]' }
                ]
            },
            locate: {
                name: 'locate',
                desc: 'å®šä½ç»“æ„',
                params: [
                    { name: 'ç±»å‹', type: 'select', options: ['structure', 'biome', 'poi'] },
                    { name: 'åç§°', type: 'text', placeholder: 'village' }
                ]
            },
            loot: {
                name: 'loot',
                desc: 'ç”Ÿæˆæˆ˜åˆ©å“',
                params: [
                    { name: 'ç±»å‹', type: 'select', options: ['spawn', 'give', 'insert'] },
                    { name: 'ä½ç½®/ç©å®¶', type: 'text', placeholder: '~ ~ ~' },
                    { name: 'æˆ˜åˆ©å“è¡¨', type: 'text', placeholder: 'loot_tables/chests/simple_dungeon' }
                ]
            },
            me: {
                name: 'me',
                desc: 'å‘é€åŠ¨ä½œæ¶ˆæ¯',
                params: [
                    { name: 'æ¶ˆæ¯', type: 'text', placeholder: 'æ­£åœ¨æŒ–çŸ¿' }
                ]
            },
            mobevent: {
                name: 'mobevent',
                desc: 'æ§åˆ¶ç”Ÿç‰©äº‹ä»¶',
                params: [
                    { name: 'äº‹ä»¶', type: 'select', options: ['minecraft:pillager_patrols_event', 'minecraft:wandering_trader_event', 'events_enabled'] },
                    { name: 'å¯ç”¨', type: 'select', options: ['true', 'false'] }
                ]
            },
            music: {
                name: 'music',
                desc: 'æ’­æ”¾éŸ³ä¹',
                params: [
                    { name: 'æ“ä½œ', type: 'select', options: ['queue', 'play', 'stop', 'volume'] },
                    { name: 'éŸ³ä¹ID', type: 'text', placeholder: 'music.game' }
                ]
            },
            op: {
                name: 'op',
                desc: 'æˆäºˆOPæƒé™',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: 'PlayerName' }
                ]
            },
            particle: {
                name: 'particle',
                desc: 'ç”Ÿæˆç²’å­æ•ˆæœ',
                params: [
                    { name: 'ç²’å­ID', type: 'text', placeholder: 'minecraft:heart_particle' },
                    { name: 'Xåæ ‡', type: 'text', placeholder: '~ ~1 ~' },
                    { name: 'Yåæ ‡', type: 'text', placeholder: '' },
                    { name: 'Zåæ ‡', type: 'text', placeholder: '' }
                ]
            },
            playanimation: {
                name: 'playanimation',
                desc: 'æ’­æ”¾åŠ¨ç”»',
                params: [
                    { name: 'å®ä½“', type: 'text', placeholder: '@e[type=player]' },
                    { name: 'åŠ¨ç”»åç§°', type: 'text', placeholder: 'animation.player.attack.rotations' }
                ]
            },
            playsound: {
                name: 'playsound',
                desc: 'æ’­æ”¾å£°éŸ³',
                params: [
                    { name: 'å£°éŸ³ID', type: 'text', placeholder: 'random.levelup' },
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' },
                    { name: 'X', type: 'text', placeholder: '~ ~ ~' },
                    { name: 'Y', type: 'text', placeholder: '' },
                    { name: 'Z', type: 'text', placeholder: '' },
                    { name: 'éŸ³é‡', type: 'number', placeholder: '1.0' },
                    { name: 'éŸ³è°ƒ', type: 'number', placeholder: '1.0' }
                ]
            },
            reload: {
                name: 'reload',
                desc: 'é‡è½½æ¸¸æˆæ•°æ®',
                params: []
            },
            replaceitem: {
                name: 'replaceitem',
                desc: 'æ›¿æ¢ç‰©å“',
                params: [
                    { name: 'ç±»å‹', type: 'select', options: ['entity', 'block'] },
                    { name: 'ç›®æ ‡', type: 'text', placeholder: '@p' },
                    { name: 'æ§½ä½', type: 'select', options: ['slot.weapon.mainhand', 'slot.weapon.offhand', 'slot.armor.head', 'slot.armor.chest', 'slot.armor.legs', 'slot.armor.feet', 'slot.hotbar.0'] },
                    { name: 'ç‰©å“ID', type: 'text', placeholder: 'diamond_sword' },
                    { name: 'æ•°é‡', type: 'number', placeholder: '1' }
                ]
            },
            ride: {
                name: 'ride',
                desc: 'éª‘ä¹˜æ§åˆ¶',
                params: [
                    { name: 'éª‘æ‰‹', type: 'text', placeholder: '@p' },
                    { name: 'æ“ä½œ', type: 'select', options: ['start_riding', 'stop_riding', 'evict_riders', 'summon_rider'] },
                    { name: 'åéª‘', type: 'text', placeholder: '@e[type=horse,c=1]' }
                ]
            },
            say: {
                name: 'say',
                desc: 'å‘é€æ¶ˆæ¯',
                params: [
                    { name: 'æ¶ˆæ¯', type: 'text', placeholder: 'Hello World!' }
                ]
            },
            scoreboard: {
                name: 'scoreboard',
                desc: 'è®°åˆ†æ¿æ“ä½œ',
                params: [
                    { name: 'æ“ä½œ', type: 'select', options: ['objectives add', 'objectives remove', 'objectives list', 'players set', 'players add', 'players remove', 'players reset'] },
                    { name: 'ç›®æ ‡åç§°', type: 'text', placeholder: 'myScore' },
                    { name: 'ç±»å‹', type: 'select', options: ['dummy', 'health', 'playerKillCount', 'totalKillCount', 'deathCount'] }
                ]
            },
            setblock: {
                name: 'setblock',
                desc: 'æ”¾ç½®æ–¹å—',
                params: [
                    { name: 'Xåæ ‡', type: 'text', placeholder: '~ ~ ~' },
                    { name: 'Yåæ ‡', type: 'text', placeholder: '' },
                    { name: 'Zåæ ‡', type: 'text', placeholder: '' },
                    { name: 'æ–¹å—ID', type: 'text', placeholder: 'diamond_block' },
                    { name: 'æ”¾ç½®æ¨¡å¼', type: 'select', options: ['destroy', 'keep', 'replace'] }
                ]
            },
            setmaxplayers: {
                name: 'setmaxplayers',
                desc: 'è®¾ç½®æœ€å¤§ç©å®¶æ•°',
                params: [
                    { name: 'æ•°é‡', type: 'number', placeholder: '20' }
                ]
            },
            setworldspawn: {
                name: 'setworldspawn',
                desc: 'è®¾ç½®ä¸–ç•Œå‡ºç”Ÿç‚¹',
                params: [
                    { name: 'X', type: 'text', placeholder: '~ ~ ~' },
                    { name: 'Y', type: 'text', placeholder: '' },
                    { name: 'Z', type: 'text', placeholder: '' }
                ]
            },
            spawnpoint: {
                name: 'spawnpoint',
                desc: 'è®¾ç½®ç©å®¶å‡ºç”Ÿç‚¹',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' },
                    { name: 'X', type: 'text', placeholder: '~ ~ ~' },
                    { name: 'Y', type: 'text', placeholder: '' },
                    { name: 'Z', type: 'text', placeholder: '' }
                ]
            },
            spreadplayers: {
                name: 'spreadplayers',
                desc: 'éšæœºä¼ é€',
                params: [
                    { name: 'ä¸­å¿ƒX', type: 'number', placeholder: '0' },
                    { name: 'ä¸­å¿ƒZ', type: 'number', placeholder: '0' },
                    { name: 'æœ€å°è·ç¦»', type: 'number', placeholder: '10' },
                    { name: 'æœ€å¤§èŒƒå›´', type: 'number', placeholder: '50' },
                    { name: 'ç›®æ ‡', type: 'text', placeholder: '@a' }
                ]
            },
            stopsound: {
                name: 'stopsound',
                desc: 'åœæ­¢å£°éŸ³',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' },
                    { name: 'å£°éŸ³ID', type: 'text', placeholder: 'random.levelup' }
                ]
            },
            structure: {
                name: 'structure',
                desc: 'ç»“æ„æ“ä½œ',
                params: [
                    { name: 'æ“ä½œ', type: 'select', options: ['save', 'load', 'delete'] },
                    { name: 'ç»“æ„åç§°', type: 'text', placeholder: 'mystructure' },
                    { name: 'X Y Z', type: 'text', placeholder: '~ ~ ~' }
                ]
            },
            summon: {
                name: 'summon',
                desc: 'å¬å”¤å®ä½“',
                params: [
                    { name: 'å®ä½“ID', type: 'select', options: ['zombie', 'skeleton', 'creeper', 'spider', 'enderman', 'wither', 'ender_dragon', 'villager', 'iron_golem', 'wolf', 'cat', 'horse', 'cow', 'pig', 'sheep', 'chicken', 'warden', 'allay', 'frog', 'axolotl'] },
                    { name: 'X', type: 'text', placeholder: '~ ~ ~' },
                    { name: 'Y', type: 'text', placeholder: '' },
                    { name: 'Z', type: 'text', placeholder: '' },
                    { name: 'å®ä½“äº‹ä»¶', type: 'text', placeholder: 'minecraft:entity_born' }
                ]
            },
            tag: {
                name: 'tag',
                desc: 'æ ‡ç­¾æ“ä½œ',
                params: [
                    { name: 'ç›®æ ‡', type: 'text', placeholder: '@a' },
                    { name: 'æ“ä½œ', type: 'select', options: ['add', 'remove', 'list'] },
                    { name: 'æ ‡ç­¾å', type: 'text', placeholder: 'myTag' }
                ]
            },
            teleport: {
                name: 'teleport',
                desc: 'ä¼ é€å®ä½“',
                params: [
                    { name: 'ç›®æ ‡', type: 'text', placeholder: '@p' },
                    { name: 'X', type: 'text', placeholder: '0' },
                    { name: 'Y', type: 'text', placeholder: '100' },
                    { name: 'Z', type: 'text', placeholder: '0' },
                    { name: 'Yæ—‹è½¬', type: 'text', placeholder: 'facing' },
                    { name: 'Xæ—‹è½¬', type: 'text', placeholder: '' }
                ]
            },
            tellraw: {
                name: 'tellraw',
                desc: 'å‘é€JSONæ¶ˆæ¯',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' },
                    { name: 'JSONæ–‡æœ¬', type: 'textarea', placeholder: '{"rawtext":[{"text":"Â§6Hello!"}]}' }
                ]
            },
            testfor: {
                name: 'testfor',
                desc: 'æµ‹è¯•å®ä½“',
                params: [
                    { name: 'ç›®æ ‡', type: 'text', placeholder: '@a[r=10]' }
                ]
            },
            testforblock: {
                name: 'testforblock',
                desc: 'æµ‹è¯•æ–¹å—',
                params: [
                    { name: 'X Y Z', type: 'text', placeholder: '~ ~ ~' },
                    { name: 'Y', type: 'text', placeholder: '' },
                    { name: 'Z', type: 'text', placeholder: '' },
                    { name: 'æ–¹å—ID', type: 'text', placeholder: 'diamond_block' }
                ]
            },
            testforblocks: {
                name: 'testforblocks',
                desc: 'æµ‹è¯•åŒºåŸŸæ–¹å—',
                params: [
                    { name: 'èµ·å§‹X Y Z', type: 'text', placeholder: '0 0 0' },
                    { name: 'èµ·å§‹Y', type: 'text', placeholder: '' },
                    { name: 'èµ·å§‹Z', type: 'text', placeholder: '' },
                    { name: 'ç»“æŸX', type: 'text', placeholder: '10' },
                    { name: 'ç»“æŸY', type: 'text', placeholder: '10' },
                    { name: 'ç»“æŸZ', type: 'text', placeholder: '10' },
                    { name: 'ç›®æ ‡X', type: 'text', placeholder: '20' },
                    { name: 'ç›®æ ‡Y', type: 'text', placeholder: '0' },
                    { name: 'ç›®æ ‡Z', type: 'text', placeholder: '0' }
                ]
            },
            tickingarea: {
                name: 'tickingarea',
                desc: 'å¸¸åŠ è½½åŒºåŸŸ',
                params: [
                    { name: 'æ“ä½œ', type: 'select', options: ['add', 'remove', 'remove_all', 'list'] },
                    { name: 'èµ·å§‹X Y Z', type: 'text', placeholder: '~ ~ ~' },
                    { name: 'èµ·å§‹Y', type: 'text', placeholder: '' },
                    { name: 'èµ·å§‹Z', type: 'text', placeholder: '' },
                    { name: 'ç»“æŸX', type: 'text', placeholder: '~10 ~10 ~10' },
                    { name: 'ç»“æŸY', type: 'text', placeholder: '' },
                    { name: 'ç»“æŸZ', type: 'text', placeholder: '' },
                    { name: 'åç§°', type: 'text', placeholder: 'myArea' }
                ]
            },
            time: {
                name: 'time',
                desc: 'æ—¶é—´æ“ä½œ',
                params: [
                    { name: 'æ“ä½œ', type: 'select', options: ['set', 'add', 'query'] },
                    { name: 'å€¼', type: 'select', options: ['day', 'night', 'noon', 'midnight', 'sunrise', 'sunset', '0', '6000', '12000', '18000'] }
                ]
            },
            title: {
                name: 'title',
                desc: 'æ˜¾ç¤ºæ ‡é¢˜',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' },
                    { name: 'ç±»å‹', type: 'select', options: ['title', 'subtitle', 'actionbar', 'clear', 'reset', 'times'] },
                    { name: 'æ–‡æœ¬', type: 'text', placeholder: 'Â§6æ¬¢è¿!' }
                ]
            },
            titleraw: {
                name: 'titleraw',
                desc: 'æ˜¾ç¤ºJSONæ ‡é¢˜',
                params: [
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' },
                    { name: 'ç±»å‹', type: 'select', options: ['title', 'subtitle', 'actionbar'] },
                    { name: 'JSONæ–‡æœ¬', type: 'textarea', placeholder: '{"rawtext":[{"text":"Â§6æ¬¢è¿!"}]}' }
                ]
            },
            toggledownfall: {
                name: 'toggledownfall',
                desc: 'åˆ‡æ¢å¤©æ°”',
                params: []
            },
            tp: {
                name: 'tp',
                desc: 'ä¼ é€(ç®€åŒ–ç‰ˆ)',
                params: [
                    { name: 'ç›®æ ‡', type: 'text', placeholder: '@p' },
                    { name: 'X Y Z', type: 'text', placeholder: '0 100 0' },
                    { name: 'Y', type: 'text', placeholder: '' },
                    { name: 'Z', type: 'text', placeholder: '' }
                ]
            },
            weather: {
                name: 'weather',
                desc: 'è®¾ç½®å¤©æ°”',
                params: [
                    { name: 'å¤©æ°”', type: 'select', options: ['clear', 'rain', 'thunder'] },
                    { name: 'æŒç»­æ—¶é—´', type: 'number', placeholder: '300' }
                ]
            },
            wsserver: {
                name: 'wsserver',
                desc: 'WebSocketæœåŠ¡å™¨',
                params: [
                    { name: 'URL', type: 'text', placeholder: 'ws://localhost:8080' }
                ]
            },
            xp: {
                name: 'xp',
                desc: 'ç»™äºˆç»éªŒ',
                params: [
                    { name: 'æ•°é‡', type: 'number', placeholder: '100' },
                    { name: 'ç©å®¶', type: 'text', placeholder: '@a' },
                    { name: 'ç±»å‹', type: 'select', options: ['points', 'levels'] }
                ]
            }
        };

        // ç²’å­æ•ˆæœæ•°æ®åº“
        const particles = [
            'minecraft:arrow_spell_emitter', 'minecraft:balloon_gas_particle', 'minecraft:basic_bubble_particle',
            'minecraft:basic_flame_particle', 'minecraft:basic_portal_particle', 'minecraft:basic_smoke_particle',
            'minecraft:bleach', 'minecraft:blue_flame_particle', 'minecraft:breaking_item_icon',
            'minecraft:camera_shoot_explosion', 'minecraft:campfire_smoke_particle', 'minecraft:campfire_tall_smoke_particle',
            'minecraft:candle_flame_particle', 'minecraft:cauldron_explosion_emitter', 'minecraft:cherry_leaves_particle',
            'minecraft:colored_flame_particle', 'minecraft:conduit_particle', 'minecraft:critical_hit_emitter',
            'minecraft:crop_growth_emitter', 'minecraft:death_explosion_emitter', 'minecraft:dolphin_move_particle',
            'minecraft:dragon_breath_fire', 'minecraft:dragon_breath_lingering', 'minecraft:dragon_breath_trail',
            'minecraft:dragon_death_explosion_emitter', 'minecraft:dragon_destroy_block', 'minecraft:dragon_dying_explosion',
            'minecraft:electric_spark_particle', 'minecraft:enchanting_table_particle', 'minecraft:end_chest',
            'minecraft:evocation_fang_particle', 'minecraft:evoker_spell', 'minecraft:explosion_manual',
            'minecraft:explosion_particle', 'minecraft:eye_of_ender_bubble_particle', 'minecraft:falling_dust_concrete_powder_particle',
            'minecraft:falling_dust_dragon_egg_particle', 'minecraft:falling_dust_gravel_particle', 'minecraft:falling_dust_red_sand_particle',
            'minecraft:falling_dust_sand_particle', 'minecraft:falling_dust_scaffolding_particle', 'minecraft:falling_dust_top_snow_particle',
            'minecraft:fish_hook_particle', 'minecraft:fish_pos_particle', 'minecraft:guardian_attack_particle',
            'minecraft:guardian_water_move_particle', 'minecraft:heart_particle', 'minecraft:honey_drip_particle',
            'minecraft:huge_explosion_emitter', 'minecraft:huge_explosion_lab_misc_emitter', 'minecraft:ice_evaporation_emitter',
            'minecraft:ink_emitter', 'minecraft:lab_table_heatblock_dust_particle', 'minecraft:lab_table_misc_mystical_particle',
            'minecraft:lava_drip_particle', 'minecraft:lava_particle', 'minecraft:llama_spit_smoke',
            'minecraft:magnesium_salts_emitter', 'minecraft:mob_block_spawn_emitter', 'minecraft:mob_portal',
            'minecraft:mycelium_dust_particle', 'minecraft:nectar_drip_particle', 'minecraft:note_particle',
            'minecraft:obsidian_glow_dust_particle', 'minecraft:obsidian_tear_particle', 'minecraft:phantom_trail_particle',
            'minecraft:portal_directional', 'minecraft:portal_east_west', 'minecraft:portal_north_south',
            'minecraft:rain_splash_particle', 'minecraft:redstone_ore_dust_particle', 'minecraft:redstone_repeater_dust_particle',
            'minecraft:redstone_torch_dust_particle', 'minecraft:rising_border_dust_particle', 'minecraft:sculk_sensor_redstone_particle',
            'minecraft:sculk_soul_particle', 'minecraft:shulker_bullet', 'minecraft:silverfish_grief_emitter',
            'minecraft:snowflake_particle', 'minecraft:soul_particle', 'minecraft:sparkler_emitter',
            'minecraft:splash_spell_emitter', 'minecraft:sponge_absorb_water_particle', 'minecraft:spore_blossom_shower_particle',
            'minecraft:squid_flee_particle', 'minecraft:squid_ink_bubble', 'minecraft:squid_move_particle',
            'minecraft:stalactite_drip_water_particle', 'minecraft:totem_manual', 'minecraft:totem_particle',
            'minecraft:trail_particle', 'minecraft:trial_spawner_detection', 'minecraft:trial_spawner_detection_ominous',
            'minecraft:underwater_torch_particle', 'minecraft:villager_angry', 'minecraft:villager_happy',
            'minecraft:water_drip_particle', 'minecraft:water_evaporation_actor_emitter', 'minecraft:water_evaporation_bucket_emitter',
            'minecraft:water_splash_particle_manual', 'minecraft:water_wake_particle', 'minecraft:wither_boss_invulnerable'
        ];

        // å¸¸ç”¨æ¨¡æ¿
        const templates = [
            { name: 'æ¸…ç©ºèƒŒåŒ…', cmd: '/clear @a' },
            { name: 'åˆ›é€ æ¨¡å¼', cmd: '/gamemode creative @s' },
            { name: 'ç”Ÿå­˜æ¨¡å¼', cmd: '/gamemode survival @s' },
            { name: 'ä¿æŒç‰©å“æ ', cmd: '/gamerule keepInventory true' },
            { name: 'å¬å”¤é—ªç”µ', cmd: '/summon lightning_bolt ~ ~ ~' },
            { name: 'è®¾ç½®ç™½å¤©', cmd: '/time set day' },
            { name: 'è®¾ç½®æ™šä¸Š', cmd: '/time set night' },
            { name: 'æ™´æœ—å¤©æ°”', cmd: '/weather clear 999999' },
            { name: 'ä¼ é€ä¸–ç•Œå‡ºç”Ÿç‚¹', cmd: '/tp @s 0 100 0' },
            { name: 'æ»¡çº§é™„é­”å‰‘', cmd: '/give @s diamond_sword 1 0 {ench:[{id:9,lvl:5},{id:10,lvl:2},{id:20,lvl:2},{id:34,lvl:3}]}' },
            { name: 'æ— æ•Œæ•ˆæœ', cmd: '/effect @s resistance 999999 255 true' },
            { name: 'é€Ÿåº¦æ•ˆæœ', cmd: '/effect @s speed 999999 2 true' },
            { name: 'å¤œè§†æ•ˆæœ', cmd: '/effect @s night_vision 999999 1 true' },
            { name: 'é£è¡Œèƒ½åŠ›', cmd: '/ability @s mayfly true' },
            { name: 'å…³é—­æ€ªç‰©ç”Ÿæˆ', cmd: '/gamerule doMobSpawning false' },
            { name: 'å…³é—­ç«ç„°è”“å»¶', cmd: '/gamerule doFireTick false' },
            { name: 'æ˜¾ç¤ºåæ ‡', cmd: '/gamerule showCoordinates true' },
            { name: 'æ¸…é™¤é™„è¿‘æ€ªç‰©', cmd: '/kill @e[type=!player,r=50]' },
            { name: 'å¬å”¤å‡‹é›¶', cmd: '/summon wither ~ ~ ~' },
            { name: 'å¡«å……é’»çŸ³å—', cmd: '/fill ~-5 ~-1 ~-5 ~5 ~-1 ~5 diamond_block' },
            { name: 'ä¼ é€åˆ°æœ€è¿‘ç©å®¶', cmd: '/tp @s @p' },
            { name: 'ç»™æ‰€æœ‰ç©å®¶é’»çŸ³', cmd: '/give @a diamond 64' },
            { name: 'æ»¡è¡€æ¢å¤', cmd: '/effect @s instant_health 1 255' },
            { name: 'éšèº«æ•ˆæœ', cmd: '/effect @s invisibility 999999 1 true' }
        ];

        let commandHistory = [];
        let currentCommand = '';

        // åˆå§‹åŒ–
        function init() {
            renderCommandList();
            renderParticles();
            renderTemplates();
        }

        // æ¸²æŸ“æŒ‡ä»¤åˆ—è¡¨
        function renderCommandList() {
            const list = document.getElementById('commandList');
            list.innerHTML = '';
            
            Object.keys(commands).forEach(cmd => {
                const btn = document.createElement('button');
                btn.className = 'cmd-btn';
                btn.innerHTML = `/${cmd}<br><small style="opacity:0.7">${commands[cmd].desc}</small>`;
                btn.onclick = () => selectCommand(cmd);
                list.appendChild(btn);
            });
        }

        // é€‰æ‹©æŒ‡ä»¤
        function selectCommand(cmdName) {
            currentCommand = cmdName;
            document.getElementById('currentCmd').textContent = `/${cmdName}`;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.cmd-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.cmd-btn').classList.add('active');
            
            // ç”Ÿæˆè¡¨å•
            const form = document.getElementById('commandForm');
            const cmd = commands[cmdName];
            
            let html = `<div class="info-box">${cmd.desc}</div>`;
            
            if (cmd.params.length === 0) {
                html += '<p style="color: var(--warning);">æ­¤æŒ‡ä»¤æ— éœ€å‚æ•°</p>';
                html += `<button class="generate-btn" onclick="generateCommand('${cmdName}')">ç”ŸæˆæŒ‡ä»¤</button>`;
            } else {
                cmd.params.forEach((param, index) => {
                    html += `<div class="form-group">`;
                    html += `<label>${param.name}</label>`;
                    
                    if (param.type === 'select') {
                        html += `<select id="param_${index}">`;
                        param.options.forEach(opt => {
                            html += `<option value="${opt}">${opt}</option>`;
                        });
                        html += `</select>`;
                    } else if (param.type === 'textarea') {
                        html += `<textarea id="param_${index}" placeholder="${param.placeholder}"></textarea>`;
                    } else {
                        html += `<input type="${param.type}" id="param_${index}" placeholder="${param.placeholder}">`;
                    }
                    
                    html += `</div>`;
                });
                
                html += `<button class="generate-btn" onclick="generateCommand('${cmdName}')">ç”ŸæˆæŒ‡ä»¤</button>`;
            }
            
            form.innerHTML = html;
        }

        // ç”ŸæˆæŒ‡ä»¤
        function generateCommand(cmdName) {
            const cmd = commands[cmdName];
            let command = `/${cmdName}`;
            
            if (cmd.params.length > 0) {
                const params = [];
                cmd.params.forEach((param, index) => {
                    const value = document.getElementById(`param_${index}`).value;
                    if (value) {
                        params.push(value);
                    }
                });
                
                if (params.length > 0) {
                    command += ' ' + params.join(' ');
                }
            }
            
            displayOutput(command);
            addToHistory(command);
        }

        // ç”Ÿæˆç›®æ ‡é€‰æ‹©å™¨
        function generateSelector() {
            const type = document.getElementById('selectorType').value;
            const entityType = document.getElementById('selectorEntityType').value;
            const name = document.getElementById('selectorName').value;
            const r = document.getElementById('selectorR').value;
            const rm = document.getElementById('selectorRm').value;
            const l = document.getElementById('selectorL').value;
            const lm = document.getElementById('selectorLm').value;
            const mode = document.getElementById('selectorMode').value;
            const count = document.getElementById('selectorCount').value;
            const tag = document.getElementById('selectorTag').value;
            
            let selector = type;
            const params = [];
            
            if (entityType) params.push(`type=${entityType}`);
            if (name) params.push(`name="${name}"`);
            if (r) params.push(`r=${r}`);
            if (rm) params.push(`rm=${rm}`);
            if (l) params.push(`l=${l}`);
            if (lm) params.push(`lm=${lm}`);
            if (mode) params.push(`m=${mode}`);
            if (count) params.push(`c=${count}`);
            if (tag) params.push(`tag=${tag}`);
            
            if (params.length > 0) {
                selector += '[' + params.join(',') + ']';
            }
            
            displayOutput(selector);
            addToHistory(selector);
        }

        // è®¡ç®—è·ç¦»
        function calculateDistance() {
            const x1 = parseFloat(document.getElementById('calcX1').value) || 0;
            const y1 = parseFloat(document.getElementById('calcY1').value) || 0;
            const z1 = parseFloat(document.getElementById('calcZ1').value) || 0;
            const x2 = parseFloat(document.getElementById('calcX2').value) || 0;
            const y2 = parseFloat(document.getElementById('calcY2').value) || 0;
            const z2 = parseFloat(document.getElementById('calcZ2').value) || 0;
            
            const dx = x2 - x1;
            const dy = y2 - y1;
            const dz = z2 - z1;
            
            const distance = Math.sqrt(dx*dx + dy*dy + dz*dz);
            const horizontalDist = Math.sqrt(dx*dx + dz*dz);
            
            const result = document.getElementById('calcResult');
            result.style.display = 'block';
            result.innerHTML = `
                <strong>è®¡ç®—ç»“æœ:</strong><br>
                ä¸‰ç»´è·ç¦»: ${distance.toFixed(2)} æ–¹å—<br>
                æ°´å¹³è·ç¦»: ${horizontalDist.toFixed(2)} æ–¹å—<br>
                å‚ç›´è·ç¦»: ${Math.abs(dy).toFixed(2)} æ–¹å—<br>
                <br>
                åç§»é‡: X=${dx}, Y=${dy}, Z=${dz}
            `;
        }

        // ç”Ÿæˆç›¸å¯¹åæ ‡
        function generateRelativeCoords() {
            const x = document.getElementById('relX').value || '0';
            const y = document.getElementById('relY').value || '0';
            const z = document.getElementById('relZ').value || '0';
            
            const result = `~${x} ~${y} ~${z}`;
            displayOutput(result);
            addToHistory(result);
        }

        // ç”ŸæˆNBTæŒ‡ä»¤
        function generateNBT() {
            const item = document.getElementById('nbtItem').value;
            const enchants = Array.from(document.getElementById('nbtEnchant').selectedOptions).map(opt => opt.value);
            const level = document.getElementById('nbtEnchantLevel').value;
            const unbreakable = document.getElementById('nbtUnbreakable').checked;
            
            let command = `/give @s ${item} 1 0`;
            
            if (enchants.length > 0 || unbreakable) {
                command += ' {';
                const nbtParts = [];
                
                if (enchants.length > 0) {
                    const enchIds = {
                        'sharpness': 9, 'looting': 10, 'unbreaking': 17,
                        'mending': 26, 'fire_aspect': 13, 'knockback': 12
                    };
                    const enchList = enchants.map(e => `{id:${enchIds[e]},lvl:${level}}`).join(',');
                    nbtParts.push(`ench:[${enchList}]`);
                }
                
                if (unbreakable) {
                    nbtParts.push('Unbreakable:1');
                }
                
                command += nbtParts.join(',') + '}';
            }
            
            displayOutput(command);
            addToHistory(command);
        }

        // æ¸²æŸ“ç²’å­æ•ˆæœ
        function renderParticles() {
            const grid = document.getElementById('particleGrid');
            grid.innerHTML = '';
            
            particles.forEach(particle => {
                const item = document.createElement('div');
                item.className = 'particle-item';
                item.textContent = particle.replace('minecraft:', '');
                item.onclick = () => {
                    const cmd = `/particle ${particle} ~ ~1 ~`;
                    displayOutput(cmd);
                    addToHistory(cmd);
                };
                grid.appendChild(item);
            });
        }

        // æ¸²æŸ“æ¨¡æ¿
        function renderTemplates() {
            const grid = document.getElementById('templateGrid');
            grid.innerHTML = '';
            
            templates.forEach(template => {
                const btn = document.createElement('button');
                btn.className = 'template-btn';
                btn.textContent = template.name;
                btn.onclick = () => {
                    displayOutput(template.cmd);
                    addToHistory(template.cmd);
                };
                grid.appendChild(btn);
            });
        }

        // æ˜¾ç¤ºè¾“å‡º
        function displayOutput(text) {
            document.getElementById('outputBox').innerHTML = text;
        }

        // æ·»åŠ åˆ°å†å²
        function addToHistory(cmd) {
            commandHistory.unshift(cmd);
            if (commandHistory.length > 20) commandHistory.pop();
            
            const historyList = document.getElementById('historyList');
            historyList.innerHTML = '';
            
            commandHistory.forEach(item => {
                const div = document.createElement('div');
                div.className = 'history-item';
                div.textContent = item;
                div.onclick = () => displayOutput(item);
                historyList.appendChild(div);
            });
        }

        // å¤åˆ¶æŒ‡ä»¤
        function copyCommand() {
            const text = document.getElementById('outputBox').textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ“ å·²å¤åˆ¶!';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            });
        }

        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // æœç´¢æŒ‡ä»¤
        document.getElementById('cmdSearch').addEventListener('input', function() {
            const search = this.value.toLowerCase();
            document.querySelectorAll('.cmd-btn').forEach(btn => {
                const text = btn.textContent.toLowerCase();
                btn.style.display = text.includes(search) ? 'block' : 'none';
            });
        });

        // æœç´¢ç²’å­
        document.getElementById('particleSearch').addEventListener('input', function() {
            const search = this.value.toLowerCase();
            document.querySelectorAll('.particle-item').forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(search) ? 'block' : 'none';
            });
        });

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.onload = init;
    </script>
</body>
</html>
